<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ“– NoorQuranOnline | Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙƒØ§Ù…Ù„</title>

  <meta name="description" content="Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙƒØ§Ù…Ù„ Ø¨ØµÙˆØª Ø§Ù„Ø´ÙŠØ® Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ + Ù…ØµØ­Ù Ù…ÙƒØªÙˆØ¨ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø¢ÙŠØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø© + Ø£Ø­Ø§Ø¯ÙŠØ« + Ø£Ø¯Ø¹ÙŠØ© + Ø¯Ø¹Ù… ÙˆØªÙˆØ§ØµÙ„">
  <meta name="keywords" content="Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…, Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ, ØªÙ„Ø§ÙˆØ©, Ù…ØµØ­Ù, Ø£Ø¯Ø¹ÙŠØ©, Ø£Ø­Ø§Ø¯ÙŠØ«">
  <meta name="author" content="NoorQuranOnline">
  <meta name="language" content="ar">

  <style>
    :root{
      --bg:#000000;
      --overlay:rgba(0,0,0,.6);
      --green:#065f46;
      --nav:#0d3b66;
      --chip:#124559;
      --btn:#1e6091;
      --btnH:#144552;
      --white:#fff;
      --ink:#e5e7eb;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      font-family: Tahoma, Arial, sans-serif;
      margin:0; color:var(--white);
      background:url('https://iili.io/K91WZj1.jpg') no-repeat center/cover fixed;
    }

    /* Header */
    header{background:var(--green); padding:20px; text-align:center}
    header h1{margin:0; font-size:26px}
    header p{margin:6px 0 0; opacity:.95}

    /* Nav */
    nav{
      position:sticky; top:0; z-index:50;
      display:flex; justify-content:center; gap:8px; flex-wrap:wrap;
      padding:10px; background:var(--nav);
      box-shadow:0 2px 6px rgba(0,0,0,.15);
    }
    nav a{
      color:var(--white); text-decoration:none;
      padding:8px 14px; border-radius:8px; background:var(--chip);
      transition:.2s;
    }
    nav a:hover{background:var(--btnH)}

    /* Sections */
    section{
      margin:20px; padding:20px; border-radius:14px; background:var(--overlay);
      backdrop-filter:saturate(120%) blur(1px);
    }
    h2{text-align:center; margin:0 0 16px}

    /* Player */
    .player-box{display:flex; flex-wrap:wrap; gap:20px; justify-content:center; align-items:flex-start}
    .controls{flex:1 1 320px; background:var(--chip); padding:16px; border-radius:12px}
    .controls label{display:block; margin-bottom:6px}
    .row{display:flex; gap:8px; align-items:center; margin-bottom:10px}
    select,button,input{
      width:100%; padding:10px; border:0; border-radius:10px;
      background:var(--btn); color:#fff; outline:none;
    }
    button{cursor:pointer}
    button:hover{background:var(--btnH)}
    audio{width:100%; margin-top:10px}
    .download{display:block; margin-top:10px; text-align:center; text-decoration:none; color:#fff}

    .surah-panel{flex:1 1 280px; background:#062c43; padding:12px; border-radius:12px; max-height:340px; overflow:auto}
    .search{margin-bottom:8px; background:#0e466b}

    .surah-list button{display:block; width:100%; margin:4px 0; padding:8px; background:var(--btn); border-radius:10px}

    /* Mushaf */
    .tools{display:flex; gap:10px; margin-bottom:12px}
    .grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(92px,1fr)); gap:8px}
    .grid button{padding:8px; border:0; border-radius:10px; background:var(--btn); color:#fff}
    .grid button:hover{background:var(--btnH)}
    .popup{
      display:none; position:relative; margin-top:14px; background:#0b0b0b; border-radius:12px; padding:18px;
      max-height:520px; overflow:auto; line-height:2; color:var(--ink);
      border:1px solid rgba(255,255,255,.08)
    }
    .close{
      position:absolute; top:8px; inset-inline-end:8px; border:0; border-radius:8px;
      background:#333; color:#fff; padding:6px 10px; cursor:pointer
    }
    .muted{opacity:.75}

    /* Ayah styling */
    .ayah{
      margin:2px 0; padding:6px 10px; background:rgba(255,255,255,.03);
      border-radius:8px;
    }
    .ayah-num{
      display:inline-grid; place-items:center;
      width:26px; height:26px; border-radius:50%;
      background:#0ea5e9; color:#001018; font-weight:bold; margin-inline:6px;
    }
    .page-num{
      display:inline-block;
      margin-inline-end:.5em;
      padding:.1em .45em;
      border-radius:6px;
      background:#1e293b;
      color:#facc15;
      font-size:.85em;
    }

    footer{background:#000; text-align:center; padding:16px; margin-top:26px}
  </style>
</head>
<body>

  <header>
    <h1>ğŸ“– NoorQuranOnline</h1>
    <p>Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙƒØ§Ù…Ù„ â€“ ØªÙ„Ø§ÙˆØ© Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ + Ù…ØµØ­Ù Ù…ÙƒØªÙˆØ¨ + Ø£Ø­Ø§Ø¯ÙŠØ« + Ø£Ø¯Ø¹ÙŠØ©</p>
  </header>

  <nav>
    <a href="#recitation">ğŸ§ Ø§Ù„ØªÙ„Ø§ÙˆØ©</a>
    <a href="#mushaf">ğŸ“š Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…ÙƒØªÙˆØ¨</a>
    <a href="#hadith">ğŸ“œ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«</a>
    <a href="#dua">ğŸ¤² Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</a>
    <a href="#support">ğŸ’š Ø§Ù„Ø¯Ø¹Ù…</a>
    <a href="#contact">ğŸ“© ØªÙˆØ§ØµÙ„</a>
  </nav>

  <!-- Ø§Ù„ØªÙ„Ø§ÙˆØ© -->
  <section id="recitation">
    <h2>ğŸ§ Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù† (Ø§Ù„Ø´ÙŠØ® Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ)</h2>

    <div class="player-box">
      <div class="controls">
        <div class="row">
          <label for="surah" style="width:auto">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©:</label>
          <select id="surah" aria-label="Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³ÙˆØ±Ø©"></select>
        </div>

        <button id="playBtn">â–¶ï¸ Ø§Ø³ØªÙ…Ø§Ø¹</button>
        <audio id="player" controls preload="none"></audio>
        <a id="downloadLink" class="download" href="#" download="">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©</a>
        <p class="muted" style="margin-top:8px">ğŸ’¡ Ø¥Ù† Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø§Ù„ØµÙˆØª Ù…Ø¨Ø§Ø´Ø±Ø© Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ø´ØºÙ‘Ù„.</p>
      </div>

      <div class="surah-panel">
        <input id="searchPlay" class="search" type="search" placeholder="ğŸ” Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø³ÙˆØ±â€¦">
        <div class="surah-list" id="surahList"></div>
      </div>
    </div>
  </section>

  <!-- Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…ÙƒØªÙˆØ¨ -->
  <section id="mushaf">
    <h2>ğŸ“š Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…ÙƒØªÙˆØ¨ (Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³ÙˆØ±)</h2>

    <div class="tools">
      <input id="searchMushaf" class="search" type="search" placeholder="ğŸ” Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø³ÙˆØ±â€¦">
      <button id="clearPopup" style="flex:0 0 140px">Ù…Ø³Ø­ Ø§Ù„Ø¹Ø±Ø¶</button>
    </div>

    <div class="grid" id="mushafGrid"></div>

    <div id="popup" class="popup" role="region" aria-live="polite">
      <button class="close" id="closePopup">Ø¥ØºÙ„Ø§Ù‚ âœ–</button>
      <div id="popupInner"></div>
    </div>

    <p id="mushafHint" class="muted">â†–ï¸ Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
  </section>

  <!-- Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« -->
  <section id="hadith">
    <h2>ğŸ“œ Ø£Ø­Ø§Ø¯ÙŠØ« Ù†Ø¨ÙˆÙŠØ©</h2>
    <p>Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: Â«Ø®ÙŠØ±ÙƒÙ… Ù…Ù† ØªØ¹Ù„Ù‘Ù… Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ¹Ù„Ù‘Ù…Ù‡Â».</p>
    <p>ÙˆÙ‚Ø§Ù„ ï·º: Â«Ù…Ù† Ù‚Ø±Ø£ Ø­Ø±ÙÙ‹Ø§ Ù…Ù† ÙƒØªØ§Ø¨ Ø§Ù„Ù„Ù‡ ÙÙ„Ù‡ Ø¨Ù‡ Ø­Ø³Ù†Ø©Â».</p>
  </section>

  <!-- Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© -->
  <section id="dua">
    <h2>ğŸ¤² Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</h2>
    <p>ğŸŒ™ Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ùƒ Ø¹ÙÙˆ ØªØ­Ø¨ Ø§Ù„Ø¹ÙÙˆ ÙØ§Ø¹ÙÙ Ø¹Ù†Ù‘Ø§.</p>
    <p>â˜€ï¸ Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØª.</p>
  </section>

  <!-- Ø§Ù„Ø¯Ø¹Ù… -->
  <section id="support">
    <h2>ğŸ’š Ø§Ø¯Ø¹Ù…Ù†Ø§</h2>
    <p>Ø³Ø§Ù‡Ù… Ù…Ø¹Ù†Ø§ ÙÙŠ Ù†Ø´Ø± Ø§Ù„Ø®ÙŠØ±:</p>
    <a href="https://paypal.me/Hazemkhalef" target="_blank" rel="noopener">ğŸ’³ Ø§Ù„ØªØ¨Ø±Ø¹ Ø¹Ø¨Ø± PayPal</a>
    <p>ğŸ“± ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´: 01005546329</p>
  </section>

  <!-- ØªÙˆØ§ØµÙ„ -->
  <section id="contact">
    <h2>ğŸ“© ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
    <p>ğŸ“§ hazemallam506070@gmail.com</p>
  </section>

  <footer>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© NoorQuranOnline 2025</footer>

  <script>
    /* ===== Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø³ÙˆØ± ===== */
    const surahNames = [
      "Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","Ø§Ù„Ø£Ø¹Ø±Ø§Ù","Ø§Ù„Ø£Ù†ÙØ§Ù„","Ø§Ù„ØªÙˆØ¨Ø©",
      "ÙŠÙˆÙ†Ø³","Ù‡ÙˆØ¯","ÙŠÙˆØ³Ù","Ø§Ù„Ø±Ø¹Ø¯","Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…","Ø§Ù„Ø­Ø¬Ø±","Ø§Ù„Ù†Ø­Ù„","Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡","Ø§Ù„ÙƒÙ‡Ù","Ù…Ø±ÙŠÙ…","Ø·Ù‡",
      "Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡","Ø§Ù„Ø­Ø¬","Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†","Ø§Ù„Ù†ÙˆØ±","Ø§Ù„ÙØ±Ù‚Ø§Ù†","Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡","Ø§Ù„Ù†Ù…Ù„","Ø§Ù„Ù‚ØµØµ","Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª","Ø§Ù„Ø±ÙˆÙ…",
      "Ù„Ù‚Ù…Ø§Ù†","Ø§Ù„Ø³Ø¬Ø¯Ø©","Ø§Ù„Ø£Ø­Ø²Ø§Ø¨","Ø³Ø¨Ø£","ÙØ§Ø·Ø±","ÙŠØ³","Ø§Ù„ØµØ§ÙØ§Øª","Øµ","Ø§Ù„Ø²Ù…Ø±","ØºØ§ÙØ±",
      "ÙØµÙ„Øª","Ø§Ù„Ø´ÙˆØ±Ù‰","Ø§Ù„Ø²Ø®Ø±Ù","Ø§Ù„Ø¯Ø®Ø§Ù†","Ø§Ù„Ø¬Ø§Ø«ÙŠØ©","Ø§Ù„Ø£Ø­Ù‚Ø§Ù","Ù…Ø­Ù…Ø¯","Ø§Ù„ÙØªØ­","Ø§Ù„Ø­Ø¬Ø±Ø§Øª","Ù‚",
      "Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª","Ø§Ù„Ø·ÙˆØ±","Ø§Ù„Ù†Ø¬Ù…","Ø§Ù„Ù‚Ù…Ø±","Ø§Ù„Ø±Ø­Ù…Ù†","Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©","Ø§Ù„Ø­Ø´Ø±","Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©",
      "Ø§Ù„ØµÙ","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†","Ø§Ù„ØªØºØ§Ø¨Ù†","Ø§Ù„Ø·Ù„Ø§Ù‚","Ø§Ù„ØªØ­Ø±ÙŠÙ…","Ø§Ù„Ù…Ù„Ùƒ","Ø§Ù„Ù‚Ù„Ù…","Ø§Ù„Ø­Ø§Ù‚Ø©","Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬",
      "Ù†ÙˆØ­","Ø§Ù„Ø¬Ù†","Ø§Ù„Ù…Ø²Ù…Ù„","Ø§Ù„Ù…Ø¯Ø«Ø±","Ø§Ù„Ù‚ÙŠØ§Ù…Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª","Ø§Ù„Ù†Ø¨Ø£","Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª","Ø¹Ø¨Ø³",
      "Ø§Ù„ØªÙƒÙˆÙŠØ±","Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±","Ø§Ù„Ù…Ø·ÙÙÙŠÙ†","Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚","Ø§Ù„Ø¨Ø±ÙˆØ¬","Ø§Ù„Ø·Ø§Ø±Ù‚","Ø§Ù„Ø£Ø¹Ù„Ù‰","Ø§Ù„ØºØ§Ø´ÙŠØ©","Ø§Ù„ÙØ¬Ø±","Ø§Ù„Ø¨Ù„Ø¯",
      "Ø§Ù„Ø´Ù…Ø³","Ø§Ù„Ù„ÙŠÙ„","Ø§Ù„Ø¶Ø­Ù‰","Ø§Ù„Ø´Ø±Ø­","Ø§Ù„ØªÙŠÙ†","Ø§Ù„Ø¹Ù„Ù‚","Ø§Ù„Ù‚Ø¯Ø±","Ø§Ù„Ø¨ÙŠÙ†Ø©","Ø§Ù„Ø²Ù„Ø²Ù„Ø©","Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª",
      "Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©","Ø§Ù„ØªÙƒØ§Ø«Ø±","Ø§Ù„Ø¹ØµØ±","Ø§Ù„Ù‡Ù…Ø²Ø©","Ø§Ù„ÙÙŠÙ„","Ù‚Ø±ÙŠØ´","Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†","Ø§Ù„ÙƒÙˆØ«Ø±","Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†","Ø§Ù„Ù†ØµØ±",
      "Ø§Ù„Ù…Ø³Ø¯","Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Ø§Ù„ÙÙ„Ù‚","Ø§Ù„Ù†Ø§Ø³"
    ];

    /* ===== Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙ„Ø§ÙˆØ© ===== */
    const baseAudio = "https://server7.mp3quran.net/s_gmd/";
    const $ = id => document.getElementById(id);
    const surahSelect = $("surah");
    const surahList = $("surahList");
    const player = $("player");
    const playBtn = $("playBtn");
    const downloadLink = $("downloadLink");

    // ØªØ¹Ø¨Ø¦Ø© Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ØªÙ„Ø§ÙˆØ©
    surahNames.forEach((name, i) => {
      const file = String(i+1).padStart(3,"0") + ".mp3";

      const opt = document.createElement("option");
      opt.value = file; opt.textContent = name;
      surahSelect.appendChild(opt);

      const btn = document.createElement("button");
      btn.textContent = name;
      btn.addEventListener("click", () => { surahSelect.value = file; playSurah(); });
      surahList.appendChild(btn);
    });

    function playSurah(){
      const file = surahSelect.value;
      const url = baseAudio + file;
      player.src = url;
      downloadLink.href = url;
      downloadLink.download = `Ø³Ø¹Ø¯-Ø§Ù„ØºØ§Ù…Ø¯ÙŠ-${file}`;
      const p = player.play();
      if(p && typeof p.catch === "function"){ p.catch(()=>{}); }
    }
    playBtn.addEventListener("click", playSurah);

    // Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ„Ø§ÙˆØ©
    $("searchPlay").addEventListener("input", (e)=>{
      const q = e.target.value.trim();
      [...surahList.children].forEach(b=>{
        b.style.display = b.textContent.includes(q) ? "" : "none";
      });
    });

    /* ===== Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØµØ­Ù ===== */
    const mushafGrid = $("mushafGrid");
    const popup = $("popup");
    const popupInner = $("popupInner");
    const closePopup = $("closePopup");
    const clearPopup = $("clearPopup");

    // ØªÙˆÙ„ÙŠØ¯ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙˆØ±
    function renderMushafButtons(){
      mushafGrid.innerHTML = "";
      surahNames.forEach((name, idx)=>{
        const index = String(idx+1); // 1..114
        const b = document.createElement("button");
        b.textContent = name;
        b.addEventListener("click", ()=> loadSurah(index, name));
        mushafGrid.appendChild(b);
      });
    }
    renderMushafButtons();

    // Ø¨Ø­Ø« Ø§Ù„Ù…ØµØ­Ù
    $("searchMushaf").addEventListener("input",(e)=>{
      const term = e.target.value.trim();
      [...mushafGrid.children].forEach(b=>{
        b.style.display = b.textContent.includes(term) ? "" : "none";
      });
    });

    closePopup.addEventListener("click", ()=> popup.style.display = "none");
    clearPopup.addEventListener("click", ()=>{
      popup.style.display = "none";
      popupInner.innerHTML = "";
    });

    // Helper: Ù…Ø­Ø§ÙˆÙ„Ø© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ù…ØµØ§Ø¯Ø±
    async function fetchWithFallback(urls){
      let lastErr;
      for(const u of urls){
        try{
          const r = await fetch(u, {cache:"force-cache"});
          if(r.ok) return r.json();
          lastErr = new Error("HTTP "+r.status);
        }catch(e){ lastErr = e; }
      }
      throw lastErr;
    }

    /* ===== ØªØ­Ù…ÙŠÙ„ ÙÙ‡Ø±Ø³ Ø§Ù„ØµÙØ­Ø§Øª (Ù…ØµØ­Ù Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©) ===== */
    // Ù…ØµØ¯Ø± ÙŠØ­ÙˆÙŠ: [{juz,page,surah,ayah,text}, ...]
    let pageIndex = {}; // pageIndex[surah][ayah] = page

    async function loadPageIndex(){
      try{
        const urlMain = "https://cdn.jsdelivr.net/gh/semarketir/quranjson@master/source/quran/quran.json";
        const urlAlt  = "https://raw.githubusercontent.com/semarketir/quranjson/master/source/quran/quran.json";
        const data = await fetchWithFallback([urlMain, urlAlt]);
        data.forEach(item=>{
          const s = String(item.surah);
          const a = Number(item.ayah);
          if(!pageIndex[s]) pageIndex[s] = {};
          pageIndex[s][a] = item.page;
        });
      }catch(e){
        console.warn("ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ ÙÙ‡Ø±Ø³ Ø§Ù„ØµÙØ­Ø§Øª:", e);
      }
    }
    loadPageIndex();

    /* ===== ØªØ­Ù…ÙŠÙ„ Ù†Øµ Ø§Ù„Ø³ÙˆØ±Ø© ÙˆØ¹Ø±Ø¶Ù‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© (Ù…Ø¹ Ø±Ù‚Ù… Ø§Ù„Ø¢ÙŠØ© ÙˆØ§Ù„ØµÙØ­Ø©) ===== */
    async function loadSurah(index, name){
      const padded = String(index).padStart(1, "0"); // Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ 3 Ø£Ø±Ù‚Ø§Ù…
      const urls = [
        `https://raw.githubusercontent.com/semarketir/quranjson/master/source/surah/surah_${padded}.json`,
        `https://cdn.jsdelivr.net/gh/semarketir/quranjson@master/source/surah/surah_${padded}.json`
      ];

      popupInner.innerHTML = `<h3>Ø³ÙˆØ±Ø© ${name}</h3><p class="muted">â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ§Øªâ€¦</p>`;
      popup.style.display = "block";

      try{
        const data = await fetchWithFallback(urls);

        let verses = [];
        // Ø¯Ø¹Ù… Ø£ÙƒØ«Ø± Ù…Ù† Ø¨Ù†ÙŠØ© Ù…Ø­ØªÙ…Ù„Ø©
        if (Array.isArray(data.verse)) {
          verses = data.verse.map(v => v.text || v.content || v.verse || v);
        } else if (Array.isArray(data.verses)) {
          verses = data.verses.map(v => v.text || v.content || v.verse || v);
        } else if (Array.isArray(data)) {
          verses = data.map(v => v.text || v.content || v.verse || v);
        }

        if(!verses.length){
          popupInner.innerHTML =
            `<h3>Ø³ÙˆØ±Ø© ${name}</h3>
             <p>ØªØ¹Ø°Ù‘Ø± Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¢ÙŠØ§Øª Ù…Ù† Ø§Ù„Ù…ØµØ¯Ø±.</p>`;
          return;
        }

        const html = [
          `<h3>Ø³ÙˆØ±Ø© ${name}</h3>`,
          ...verses.map((t,i)=>{
            const ayahNum = i+1;
            const pageNum = pageIndex[index]?.[ayahNum] || "ØŸ";
            return `<div class="ayah">
                      <span class="ayah-num">${ayahNum}</span>
                      <span class="page-num">Øµ:${pageNum}</span>
                      ${t}
                    </div>`;
          })
        ].join("");

        popupInner.innerHTML = html;
      }catch(err){
        popupInner.innerHTML =
          `<h3>Ø³ÙˆØ±Ø© ${name}</h3>
           <p>ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©.</p>`;
      }
    }
  </script>
</body>
</html>
